// prettier-ignore
var pokemonRepository=function(){var t=[],o="https://pokeapi.co/api/v2/pokemon/?limit=150",n=$(".pokemon-list");$("#modal-container");function e(o){t.push(o)}function a(t){var o=$(".modal-body");$("#pokemon-name").text(t.name),o.html("Height:"+t.height/10+" meters<br/><br/>Weight: "+(.22*t.weight).toFixed(2)+" pounds");var n=$('<img class="pokemon-picture"/>');n.attr("src",t.imageUrl),o.append(n)}return{add:e,getAll:function(){return t},addListItem:function(t){var o=$('<li class="list-group-item"></li>');n.append(o);var e=$('<button class="btn btn-light pokemon-name pokemonSelectorButton" data-toggle="modal" data-target="#modal-container">'+t.name+"</button>");o.append(e),e.click(function(){!function(t){pokemonRepository.loadDetails(t).then(function(){return t}).then(function(t){a(t)}).catch(function(t){console.error(t)})}(t)})},showModal:a,loadList:function(){return $.ajax(o,{dataType:"json",success:function(t){t.results.forEach(function(t){e({name:t.name,detailsUrl:t.url})})}}).fail(function(t){console.error(t)})},loadDetails:function(t){var o=t.detailsUrl;return $.ajax(o,{dataType:"json"}).then(function(t){return t}).then(function(o){t.imageUrl=o.sprites.front_default,t.height=o.height,t.weight=o.weight}).catch(function(t){console.error(t)})}}}();

pokemonRepository.loadList().then(function() {
	pokemonRepository.getAll().forEach(function(t) {
		pokemonRepository.addListItem(t);
	});
});
